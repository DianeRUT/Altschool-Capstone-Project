{"ast":null,"code":"// src/services/apiService.js\nconst API_URL = 'http://localhost:5000/api'; // Adjust if necessary\n\nexport const apiLogin = async (email, password) => {\n  try {\n    const response = await fetch(`${API_URL}/auth/login`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    });\n    const data = await response.json();\n    if (response.ok) {\n      return {\n        success: true,\n        token: data.token\n      };\n    } else {\n      return {\n        success: false,\n        message: data.msg || 'Login failed'\n      };\n    }\n  } catch (error) {\n    return {\n      success: false,\n      message: 'Network error'\n    };\n  }\n};\nexport const apiSignup = async (name, email, password, role) => {\n  try {\n    const response = await fetch(`${API_URL}/auth/register`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name,\n        email,\n        password,\n        role\n      })\n    });\n    const data = await response.json();\n    if (response.ok) {\n      return {\n        success: true,\n        token: data.token\n      };\n    } else {\n      return {\n        success: false,\n        message: data.msg || 'Signup failed'\n      };\n    }\n  } catch (error) {\n    return {\n      success: false,\n      message: 'Network error'\n    };\n  }\n};\n// Fetch user's profile information\nexport const apiGetProfile = async () => {\n  const token = localStorage.getItem('authToken');\n  try {\n    const response = await fetch(`${API_URL}/auth/profile`, {\n      method: 'GET',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      }\n    });\n    const data = await response.json();\n    if (response.ok) {\n      return {\n        success: true,\n        data: data.profile\n      };\n    } else {\n      return {\n        success: false,\n        message: data.msg || 'Failed to fetch profile'\n      };\n    }\n  } catch (error) {\n    return {\n      success: false,\n      message: 'Network error'\n    };\n  }\n};\n\n// Update user's profile information\nexport const apiUpdateProfile = async updatedProfile => {\n  const token = localStorage.getItem('authToken');\n  try {\n    const response = await fetch(`${API_URL}/auth/profile`, {\n      method: 'PUT',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(updatedProfile)\n    });\n    const data = await response.json();\n    if (response.ok) {\n      return {\n        success: true,\n        data: data.profile\n      };\n    } else {\n      return {\n        success: false,\n        message: data.msg || 'Failed to update profile'\n      };\n    }\n  } catch (error) {\n    return {\n      success: false,\n      message: 'Network error'\n    };\n  }\n};","map":{"version":3,"names":["API_URL","apiLogin","email","password","response","fetch","method","headers","body","JSON","stringify","data","json","ok","success","token","message","msg","error","apiSignup","name","role","apiGetProfile","localStorage","getItem","profile","apiUpdateProfile","updatedProfile"],"sources":["C:/Users/fsindamb/OneDrive/Desktop/Diane_stuffs/Capstone Altschool Project/eventful-frontend/src/services/apiService.js"],"sourcesContent":["// src/services/apiService.js\r\nconst API_URL = 'http://localhost:5000/api'; // Adjust if necessary\r\n\r\nexport const apiLogin = async (email, password) => {\r\n  try {\r\n    const response = await fetch(`${API_URL}/auth/login`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ email, password }),\r\n    });\r\n    const data = await response.json();\r\n    if (response.ok) {\r\n      return { success: true, token: data.token };\r\n    } else {\r\n      return { success: false, message: data.msg || 'Login failed' };\r\n    }\r\n  } catch (error) {\r\n    return { success: false, message: 'Network error' };\r\n  }\r\n};\r\n\r\nexport const apiSignup = async (name, email, password, role) => {\r\n  try {\r\n    const response = await fetch(`${API_URL}/auth/register`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ name, email, password, role }),\r\n    });\r\n    const data = await response.json();\r\n    if (response.ok) {\r\n      return { success: true, token: data.token };\r\n    } else {\r\n      return { success: false, message: data.msg || 'Signup failed' };\r\n    }\r\n  } catch (error) {\r\n    return { success: false, message: 'Network error' };\r\n  }\r\n};\r\n // Fetch user's profile information\r\nexport const apiGetProfile = async () => {\r\n  const token = localStorage.getItem('authToken');\r\n  try {\r\n    const response = await fetch(`${API_URL}/auth/profile`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`,\r\n        'Content-Type': 'application/json',\r\n      },\r\n    });\r\n    const data = await response.json();\r\n    if (response.ok) {\r\n      return { success: true, data: data.profile };\r\n    } else {\r\n      return { success: false, message: data.msg || 'Failed to fetch profile' };\r\n    }\r\n  } catch (error) {\r\n    return { success: false, message: 'Network error' };\r\n  }\r\n};\r\n\r\n// Update user's profile information\r\nexport const apiUpdateProfile = async (updatedProfile) => {\r\n  const token = localStorage.getItem('authToken');\r\n  try {\r\n    const response = await fetch(`${API_URL}/auth/profile`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(updatedProfile),\r\n    });\r\n    const data = await response.json();\r\n    if (response.ok) {\r\n      return { success: true, data: data.profile };\r\n    } else {\r\n      return { success: false, message: data.msg || 'Failed to update profile' };\r\n    }\r\n  } catch (error) {\r\n    return { success: false, message: 'Network error' };\r\n  }\r\n};"],"mappings":"AAAA;AACA,MAAMA,OAAO,GAAG,2BAA2B,CAAC,CAAC;;AAE7C,OAAO,MAAMC,QAAQ,GAAG,MAAAA,CAAOC,KAAK,EAAEC,QAAQ,KAAK;EACjD,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGL,OAAO,aAAa,EAAE;MACpDM,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAER,KAAK;QAAEC;MAAS,CAAC;IAC1C,CAAC,CAAC;IACF,MAAMQ,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;IAClC,IAAIR,QAAQ,CAACS,EAAE,EAAE;MACf,OAAO;QAAEC,OAAO,EAAE,IAAI;QAAEC,KAAK,EAAEJ,IAAI,CAACI;MAAM,CAAC;IAC7C,CAAC,MAAM;MACL,OAAO;QAAED,OAAO,EAAE,KAAK;QAAEE,OAAO,EAAEL,IAAI,CAACM,GAAG,IAAI;MAAe,CAAC;IAChE;EACF,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,OAAO;MAAEJ,OAAO,EAAE,KAAK;MAAEE,OAAO,EAAE;IAAgB,CAAC;EACrD;AACF,CAAC;AAED,OAAO,MAAMG,SAAS,GAAG,MAAAA,CAAOC,IAAI,EAAElB,KAAK,EAAEC,QAAQ,EAAEkB,IAAI,KAAK;EAC9D,IAAI;IACF,MAAMjB,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGL,OAAO,gBAAgB,EAAE;MACvDM,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEU,IAAI;QAAElB,KAAK;QAAEC,QAAQ;QAAEkB;MAAK,CAAC;IACtD,CAAC,CAAC;IACF,MAAMV,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;IAClC,IAAIR,QAAQ,CAACS,EAAE,EAAE;MACf,OAAO;QAAEC,OAAO,EAAE,IAAI;QAAEC,KAAK,EAAEJ,IAAI,CAACI;MAAM,CAAC;IAC7C,CAAC,MAAM;MACL,OAAO;QAAED,OAAO,EAAE,KAAK;QAAEE,OAAO,EAAEL,IAAI,CAACM,GAAG,IAAI;MAAgB,CAAC;IACjE;EACF,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,OAAO;MAAEJ,OAAO,EAAE,KAAK;MAAEE,OAAO,EAAE;IAAgB,CAAC;EACrD;AACF,CAAC;AACA;AACD,OAAO,MAAMM,aAAa,GAAG,MAAAA,CAAA,KAAY;EACvC,MAAMP,KAAK,GAAGQ,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;EAC/C,IAAI;IACF,MAAMpB,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGL,OAAO,eAAe,EAAE;MACtDM,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACP,eAAe,EAAE,UAAUQ,KAAK,EAAE;QAClC,cAAc,EAAE;MAClB;IACF,CAAC,CAAC;IACF,MAAMJ,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;IAClC,IAAIR,QAAQ,CAACS,EAAE,EAAE;MACf,OAAO;QAAEC,OAAO,EAAE,IAAI;QAAEH,IAAI,EAAEA,IAAI,CAACc;MAAQ,CAAC;IAC9C,CAAC,MAAM;MACL,OAAO;QAAEX,OAAO,EAAE,KAAK;QAAEE,OAAO,EAAEL,IAAI,CAACM,GAAG,IAAI;MAA0B,CAAC;IAC3E;EACF,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,OAAO;MAAEJ,OAAO,EAAE,KAAK;MAAEE,OAAO,EAAE;IAAgB,CAAC;EACrD;AACF,CAAC;;AAED;AACA,OAAO,MAAMU,gBAAgB,GAAG,MAAOC,cAAc,IAAK;EACxD,MAAMZ,KAAK,GAAGQ,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;EAC/C,IAAI;IACF,MAAMpB,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGL,OAAO,eAAe,EAAE;MACtDM,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACP,eAAe,EAAE,UAAUQ,KAAK,EAAE;QAClC,cAAc,EAAE;MAClB,CAAC;MACDP,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACiB,cAAc;IACrC,CAAC,CAAC;IACF,MAAMhB,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;IAClC,IAAIR,QAAQ,CAACS,EAAE,EAAE;MACf,OAAO;QAAEC,OAAO,EAAE,IAAI;QAAEH,IAAI,EAAEA,IAAI,CAACc;MAAQ,CAAC;IAC9C,CAAC,MAAM;MACL,OAAO;QAAEX,OAAO,EAAE,KAAK;QAAEE,OAAO,EAAEL,IAAI,CAACM,GAAG,IAAI;MAA2B,CAAC;IAC5E;EACF,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,OAAO;MAAEJ,OAAO,EAAE,KAAK;MAAEE,OAAO,EAAE;IAAgB,CAAC;EACrD;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}