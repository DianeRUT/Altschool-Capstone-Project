{"ast":null,"code":"import React,{useContext}from'react';import{Link}from'react-router-dom';import{AuthContext}from'../context/AuthContext';import'./EventCard.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EventCard=_ref=>{let{event,onDelete}=_ref;const{authToken}=useContext(AuthContext);const handleDelete=async()=>{try{const response=await fetch(`http://localhost:5000/api/events/${event._id}`,{method:'DELETE',headers:{'Content-Type':'application/json','Authorization':`Bearer ${authToken}`}});if(response.ok&&onDelete){onDelete(event._id);// Notify parent component to refresh the event list\n}else{console.error('Failed to delete event');}}catch(error){console.error('Error deleting event:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"event-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:event.title}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Date:\"}),\" \",event.date]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Location:\"}),\" \",event.location]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Description:\"}),\" \",event.description]}),/*#__PURE__*/_jsx(Link,{to:`/events/events${event.id}`,children:\"Get Tickets\"}),event.createdBy===authToken&&/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,children:\"Delete\"})]});};export default EventCard;","map":{"version":3,"names":["React","useContext","Link","AuthContext","jsx","_jsx","jsxs","_jsxs","EventCard","_ref","event","onDelete","authToken","handleDelete","response","fetch","_id","method","headers","ok","console","error","className","children","title","date","location","description","to","id","createdBy","onClick"],"sources":["C:/Users/fsindamb/OneDrive/Desktop/Diane_stuffs/Capstone Altschool Project/eventful-frontend/src/components/EventCard.js"],"sourcesContent":["import React , { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport './EventCard.css';\r\n\r\nconst EventCard = ({ event, onDelete }) => {\r\n    const { authToken } = useContext(AuthContext);\r\n        \r\n    const handleDelete = async () => {\r\n        try {\r\n            const response = await fetch(`http://localhost:5000/api/events/${event._id}`, {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${authToken}`,\r\n                },\r\n            });\r\n\r\n            if (response.ok && onDelete) {\r\n                onDelete(event._id); // Notify parent component to refresh the event list\r\n            } else {\r\n                console.error('Failed to delete event');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error deleting event:', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"event-card\">\r\n            <h3>{event.title}</h3>\r\n            <p><strong>Date:</strong> {event.date}</p>\r\n            <p><strong>Location:</strong> {event.location}</p>\r\n            <p><strong>Description:</strong> {event.description}</p>\r\n            <Link to={`/events/events${event.id}`}>Get Tickets</Link>\r\n            {event.createdBy === authToken && ( \r\n            <button onClick={handleDelete}>Delete</button>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EventCard;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAKC,UAAU,KAAQ,OAAO,CAC1C,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,WAAW,KAAQ,wBAAwB,CACpD,MAAO,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzB,KAAM,CAAAC,SAAS,CAAGC,IAAA,EAAyB,IAAxB,CAAEC,KAAK,CAAEC,QAAS,CAAC,CAAAF,IAAA,CAClC,KAAM,CAAEG,SAAU,CAAC,CAAGX,UAAU,CAACE,WAAW,CAAC,CAE7C,KAAM,CAAAU,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,oCAAoCL,KAAK,CAACM,GAAG,EAAE,CAAE,CAC1EC,MAAM,CAAE,QAAQ,CAChBC,OAAO,CAAE,CACL,cAAc,CAAE,kBAAkB,CAClC,eAAe,CAAE,UAAUN,SAAS,EACxC,CACJ,CAAC,CAAC,CAEF,GAAIE,QAAQ,CAACK,EAAE,EAAIR,QAAQ,CAAE,CACzBA,QAAQ,CAACD,KAAK,CAACM,GAAG,CAAC,CAAE;AACzB,CAAC,IAAM,CACHI,OAAO,CAACC,KAAK,CAAC,wBAAwB,CAAC,CAC3C,CACJ,CAAE,MAAOA,KAAK,CAAE,CACZD,OAAO,CAACC,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CACjD,CACJ,CAAC,CAED,mBACId,KAAA,QAAKe,SAAS,CAAC,YAAY,CAAAC,QAAA,eACvBlB,IAAA,OAAAkB,QAAA,CAAKb,KAAK,CAACc,KAAK,CAAK,CAAC,cACtBjB,KAAA,MAAAgB,QAAA,eAAGlB,IAAA,WAAAkB,QAAA,CAAQ,OAAK,CAAQ,CAAC,IAAC,CAACb,KAAK,CAACe,IAAI,EAAI,CAAC,cAC1ClB,KAAA,MAAAgB,QAAA,eAAGlB,IAAA,WAAAkB,QAAA,CAAQ,WAAS,CAAQ,CAAC,IAAC,CAACb,KAAK,CAACgB,QAAQ,EAAI,CAAC,cAClDnB,KAAA,MAAAgB,QAAA,eAAGlB,IAAA,WAAAkB,QAAA,CAAQ,cAAY,CAAQ,CAAC,IAAC,CAACb,KAAK,CAACiB,WAAW,EAAI,CAAC,cACxDtB,IAAA,CAACH,IAAI,EAAC0B,EAAE,CAAE,iBAAiBlB,KAAK,CAACmB,EAAE,EAAG,CAAAN,QAAA,CAAC,aAAW,CAAM,CAAC,CACxDb,KAAK,CAACoB,SAAS,GAAKlB,SAAS,eAC9BP,IAAA,WAAQ0B,OAAO,CAAElB,YAAa,CAAAU,QAAA,CAAC,QAAM,CAAQ,CAC5C,EACA,CAAC,CAEd,CAAC,CAED,cAAe,CAAAf,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}